<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=\, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=VT323&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./index.css" />
    <title>Linked List</title>
  </head>
  <body
    style="
      font-family: 'VT323', monospace;
      background-color: rgb(0, 0, 0);
      color: #4af626;
    "
  >
    <h1 style="text-align: center; font-size: 64px;">Linked List Visualization</h1>
    <div style="display: flex; justify-content: center; gap: 12px">
      <button class="btn">Append Node</button>
      
    </div>
    <div
      id="content"
      style="width: 100%; display: flex; justify-content: center"
    >
      <svg width="500" height="500">
        <g class="links"></g>
        <g class="nodes"></g>
      </svg>
    </div>

    <script type="module">
      import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

      var width = 500,
        height = 500;

      var nodes = [
        { name: "Node 1" },
        { name: "Node 2" },
        { name: "Node 3" },
        { name: "Node 4" },
        { name: "Node 5" },
      ];

      var links = [
        { source: 0, target: 1 },
        { source: 1, target: 2 },
        { source: 2, target: 3 },
        { source: 3, target: 4 },
      ];

      var simulation = d3
        .forceSimulation(nodes)
        .force("charge", d3.forceManyBody().strength(-300))
        .force("center", d3.forceCenter(width / 2, height / 2))
        .force("link", d3.forceLink().links(links))
        .on("tick", ticked);

      function updateLinks() {
        let u = d3
          .select(".links")
          .selectAll("line")
          .data(links)
          .join("line")
          .attr("x1", function (d) {
            return d.source.x;
          })
          .attr("y1", function (d) {
            return d.source.y;
          })
          .attr("x2", function (d) {
            return d.target.x;
          })
          .attr("y2", function (d) {
            return d.target.y;
          });
      }

      function updateNodes() {
        let u = d3
          .select(".nodes")
          .selectAll("text")
          .data(nodes)
          .join("text")
          .text(function (d) {
            return d.name;
          })
          .attr("x", function (d) {
            return d.x;
          })
          .attr("y", function (d) {
            return d.y;
          })
          .attr("dy", function (d) {
            return 5;
          });
      }

      function ticked() {
        updateLinks();
        updateNodes();
      }
    </script>
  </body>
</html>
